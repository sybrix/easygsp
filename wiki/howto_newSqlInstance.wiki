#summary Implicit method newSqlInstance()

EasyGSP adds a method to all classes, controllers and templates for obtaining a groovy.sql.Sql object.

==== public groovy.sql.Sql newSqlInstance(String dataSource) ====

In order to use this method, the database attributes must be set application attributes.
The best place to do this is in the [firstproject onApplicationStart(app)] event of the WEB-INF/web.groovy file.

The following attributes must be set:
|| database.driver || 
|| database.url || 
|| database.password ||
|| database.username ||

The best place to store these would be in a properties.  Here's a code sample that reads the attributes from a properties file and adds them to the application object when onApplicationStart event is fired.

web.groovy
{{{

class web {
	def onApplicationStart(app){                
                def propFile = loadPropertiesFile('db.properties')
                app['database.url'] = propFile.get('database.url')
                app['database.password'] = propFile.get('database.password')          
                app['database.username'] = propFile.get('database.username')
                app['database.driver'] = propFile.get('database.driver')
                 
        }
}}}


The properties file: db.properties
{{{
database.driver=com.mysql.jdbc.Driver
database.url=jdbc:mysql://localhost:3306/mysql
database.password=superSecretPassword
database.username=root
}}}