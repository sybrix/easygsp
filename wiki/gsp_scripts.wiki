#summary Groovy Scripts

= Groovy Scripts =

EasyGSP groovy scripts come in 2 flavors: GSP and GSPX. GSP and GSPX refer the file extension given to EasyGSP scripts.
The GSP extensions indicates a script where the logic and html are in the same script.  The GSPX extension refers to a page developed in the MVC method.

=== GSP Scripts ===
GSP scripts will usually contain application logic and the HTML to be rendered to the client.  These are the equivalent of a PHP or ASP or groovy script. GSP scripts are eventually procesed by a [http://groovy.codehaus.org/Groovy+Templates SimpleTemplateEngine] ,  Normally, SimpleTemplateEngine templates are simple, but EasyGSP templates slightly different in that they first processed by a GroovyScriptEngine and then the SimpleTemplateEngine.  The first set of <% %> is processed by the GroovyScriptEngine, everything else is processed by the SimpleTemplateEngine.  The GroovyScriptEngine and SimpleTemplateEngine also share the same classloader.  This 





=== GSPX Scripts ===
When developing MVC style pages in EasyGSP, the model, view and controller should be in separate files.

There are also a few rules to follow when doing MVC development:
  * The controller is a normal Groovy script that must end with the .groovy extension
  * The view is SimpleTemplateEngine style template that must end with the .gspx extension
  * The controller and view must have the same file name(minus the extension), in order for the controller to automatically forward to the view.  If the controller and view don't share the same file name, you must explicitly forward to the view using the forward() method.
  * View classes should be in a folder in the WEB-INF directory where the folder name matches the package name
  
  Here's the structure for each piece of the MVC model, where the name of the application is "example".
{{{
   /example
       helloworld.gspx
       helloworld.groovy
          /WEB-INF
             /model
                User.groovy
}}}


*User.groovy* (Model)

{{{
	package model

	class User {
		String lastName
		String firstName           
	}
}}}


*helloworld.gspx*  (View)

{{{
<html>
	<head>
		<title>Hello World Example</title>
	</head>
	<body>
		$message $user.firstname $user.lastName, today is $today
	</body>
</html>
}}}



*helloworld.groovy*  (Controller)

{{{

	import java.text.SimpleDateFormat

	def message = 'Hello'
	def sdf = new SimpleDateFormat('MMMM dd, yyyy')
	
	def today = sdf.format(new Date())
        def user = new User(lastName: 'Lee', firstName: 'David')
        
        bind 'message', message
        bind 'today', today
        bind 'user', user
}}}



[implicit_methods bind() method explanation ]
  