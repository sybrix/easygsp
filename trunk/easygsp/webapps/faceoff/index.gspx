<html>
        <head>
                <title>Framework Faceoff</title>
                <style>
                          .frameworkDiv{
                                width:500px;
                                margin:5px auto;
                                border:1px solid red
                          }
                </style>
                <script type="text/javascript">
                        function categoryChanged(obj){
                                window.location.href="index.gspx?categoryId=" + obj.value;
                        }
                </script>
        </head>
        <body>
                Category:                       <select name="categoryId" onchange="categoryChanged(this)">
                                                        <option value="0"></option>
                                                <% categories.each {
                                                        def categoryId = params?.categoryId?:1
                                                        
                                                        if (it.categoryId == new Integer(categoryId).intValue()){   %>

                                                        <option value="$it.categoryId" selected="selected">$it.category</option>
                                                <%       } else{ %>
                                                        <option value="$it.categoryId">$it.category</option>
                                                <%      }
                                                } %>
                                                </select>

                        <% frameworks.each { %>
                              <div class="frameworkDiv">
                                        <div>$it.framework <span>$it.version</span> <span>score: $it.score</span></div>
                                        <div>Url: $it.url</div>
                                        <div>$it.description <a href="framework.gspx?frameworkId=$it.frameworkId">...Read more</a></div>        
                               </div>
                        </tr>
                        <% } %>




        </body>
</html>